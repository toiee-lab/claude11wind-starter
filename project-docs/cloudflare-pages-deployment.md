# Cloudflare Pages ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Eleventy + Tailwind CSS ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ Cloudflare Pages ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ‰‹é †ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ğŸ“‹ äº‹å‰æº–å‚™

### å¿…è¦ãªã‚‚ã®
- Cloudflareã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ãƒ—ãƒ©ãƒ³ã§å¯ï¼‰
- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- GitHubãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒƒã‚·ãƒ¥æ¸ˆã¿ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### 1. Cloudflare Pages ã«ã‚¢ã‚¯ã‚»ã‚¹

1. [Cloudflare Dashboard](https://dash.cloudflare.com/) ã«ãƒ­ã‚°ã‚¤ãƒ³
2. å·¦ã‚µã‚¤ãƒ‰ãƒãƒ¼ã‹ã‚‰ **Workers & Pages** ã‚’é¸æŠ
3. **Create application** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. **Pages** ã‚¿ãƒ–ã‚’é¸æŠ
5. **Connect to Git** ã‚’ã‚¯ãƒªãƒƒã‚¯

### 2. GitHubãƒªãƒã‚¸ãƒˆãƒªã‚’æ¥ç¶š

1. **GitHub** ã‚’é¸æŠ
2. å¿…è¦ã«å¿œã˜ã¦Cloudflareã«GitHubã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯
3. ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãŸã„ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
4. **Begin setup** ã‚’ã‚¯ãƒªãƒƒã‚¯

### 3. ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’æ§‹æˆ

ä»¥ä¸‹ã®è¨­å®šã‚’å…¥åŠ›ã—ã¾ã™ï¼š

| è¨­å®šé …ç›® | å€¤ |
|---------|-----|
| **Project name** | ä»»æ„ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼ˆä¾‹: my-eleventy-siteï¼‰ |
| **Production branch** | `main` ã¾ãŸã¯ `master` |
| **Framework preset** | `None` ã¾ãŸã¯ `Eleventy` |
| **Build command** | `npm run build` |
| **Build output directory** | `_site` |

### 4. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

Unsplash APIã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆï¼š

1. **Environment variables (advanced)** ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å±•é–‹
2. **Add variable** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
   - **Variable name**: `UNSPLASH_ACCESS_KEY`
   - **Value**: ã‚ãªãŸã®Unsplash Access Key

### 5. ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’é–‹å§‹

1. **Save and Deploy** ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ãŒé–‹å§‹ã•ã‚Œã¾ã™ï¼ˆé€šå¸¸1ã€œ3åˆ†ï¼‰
3. ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå®Œäº†ã™ã‚‹ã¨ã€`https://your-project.pages.dev` ã®ã‚ˆã†ãªURLãŒç™ºè¡Œã•ã‚Œã¾ã™

## âš™ï¸ ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®è¨­å®š

### ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³ã®è¨­å®š

1. Cloudflare Pagesã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸ã§ **Custom domains** ã‚¿ãƒ–ã‚’é¸æŠ
2. **Set up a custom domain** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ‰ãƒ¡ã‚¤ãƒ³åã‚’å…¥åŠ›ã—ã€æŒ‡ç¤ºã«å¾“ã£ã¦DNSè¨­å®šã‚’è¡Œã†

### sitemap.xml ã®ãƒ›ã‚¹ãƒˆåã‚’æ›´æ–°

`eleventy.config.js` ã® sitemap è¨­å®šã‚’æœ¬ç•ªãƒ‰ãƒ¡ã‚¤ãƒ³ã«æ›´æ–°ï¼š

```javascript
eleventyConfig.addPlugin(pluginSitemap, {
  sitemap: {
    hostname: "https://your-actual-domain.com" // ã¾ãŸã¯ https://your-project.pages.dev
  }
});
```

å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«å†ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚

## ğŸ”„ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

Cloudflare Pagesã¯ã€GitHubãƒªãƒã‚¸ãƒˆãƒªã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ã‚’æ¤œçŸ¥ã—ã¦è‡ªå‹•çš„ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ï¼š

- **Production branch** (`main`/`master`)ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ â†’ æœ¬ç•ªç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤
- **ãã®ä»–ã®ãƒ–ãƒ©ãƒ³ãƒ** â†’ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã«ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ`https://branch-name.your-project.pages.dev`ï¼‰

## ğŸ“Š ãƒ“ãƒ«ãƒ‰ãƒ­ã‚°ã®ç¢ºèª

1. Cloudflare Pagesã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒšãƒ¼ã‚¸
2. **Deployments** ã‚¿ãƒ–ã‚’é¸æŠ
3. ä»»æ„ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ­ã‚°ã‚’ç¢ºèª

## âš ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ãŒå¤±æ•—ã™ã‚‹å ´åˆ

**Node.jsãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æŒ‡å®š**

`package.json` ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š

```json
{
  "engines": {
    "node": ">=22.0.0"
  }
}
```

ã¾ãŸã¯ã€Cloudflare Pagesã®ç’°å¢ƒå¤‰æ•°ã«ä»¥ä¸‹ã‚’è¿½åŠ ï¼š
- **Variable name**: `NODE_VERSION`
- **Value**: `22`

### ç’°å¢ƒå¤‰æ•°ãŒåæ˜ ã•ã‚Œãªã„å ´åˆ

1. ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ /å¤‰æ›´ã—ãŸå¾Œã¯ã€æ‰‹å‹•ã§å†ãƒ‡ãƒ—ãƒ­ã‚¤ãŒå¿…è¦
2. **Deployments** ã‚¿ãƒ–ã‹ã‚‰ **Retry deployment** ã‚’ã‚¯ãƒªãƒƒã‚¯

### ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆ

- `src/assets/images/` é…ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãã‚³ãƒŸãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
- `eleventy.config.js` ã® `addPassthroughCopy` è¨­å®šã‚’ç¢ºèª

## ğŸ”— å‚è€ƒãƒªãƒ³ã‚¯

- [Cloudflare Pages ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://developers.cloudflare.com/pages/)
- [Cloudflare Pages ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š](https://developers.cloudflare.com/pages/configuration/build-configuration/)
- [Eleventy å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.11ty.dev/)

## ğŸ’¡ Tips

### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã®æ´»ç”¨

ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã¦å¤‰æ›´ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã¨ã€æœ¬ç•ªç’°å¢ƒã«å½±éŸ¿ã‚’ä¸ãˆãšã«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã§ç¢ºèªã§ãã¾ã™ï¼š

```bash
git checkout -b feature/new-design
# å¤‰æ›´ã‚’åŠ ãˆã‚‹
git add .
git commit -m "æ–°ã—ã„ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è¿½åŠ "
git push origin feature/new-design
```

ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼URL: `https://feature-new-design.your-project.pages.dev`

### ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®æœ€é©åŒ–

- ä¸è¦ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å‰Šé™¤
- ç”»åƒæœ€é©åŒ–ã¯å¿…è¦ãªå ´åˆã®ã¿å®Ÿè¡Œ
- `node_modules` ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ´»ç”¨ï¼ˆCloudflareãŒè‡ªå‹•ã§è¡Œã„ã¾ã™ï¼‰

---

ä»¥ä¸Šã§Cloudflare Pagesã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã¯å®Œäº†ã§ã™ï¼
